webpackJsonp([34],{"NTb/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Au9i"),i={data:function(){return{consent:!1,registerenroll:"",second:60,time:0,disabled:!1,isDisableds:!0,alreadyNum:"",data:{mobile:"",password:"",type:"user_type",code:"",remobile:"",token:""}}},computed:{text:function(){return this.time>0?this.time+"s ":"获取验证码"}},mounted:function(){},methods:{confirmation:function(){if(!/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(this.data.mobile))return Object(s.Toast)("请输入正确的手机号格式"),!1;this.$axios.post(window.ajaxSrc+"/client/user/checkmobile",{mobile:this.data.mobile}).then(function(t){t.data.success||Object(s.Toast)(t.data.message)})},Sendverification:function(){this.getCode()},timer:function(){this.time>0&&(this.time--,setTimeout(this.timer,1e3))},getCode:function(){var t=this;this.$axios.post(window.ajaxSrc+"/client/user/sendsms",{mobile:this.data.mobile,password:this.data.password,code:this.data.code}).then(function(e){if("200"==e.data.code)t.time=t.second,t.timer(),Object(s.Toast)("发送成功");else if("10001"==e.data.code)return Object(s.Toast)("手机号码不能为空"),!1})},toRegistration:function(){if(1==this.consent){if(""==this.data.code)return Object(s.Toast)("验证码不能为空"),!1;if(this.$axios.post(window.ajaxSrc+"/client/user/register",{mobile:this.data.mobile,password:this.data.password,code:this.data.code,token:localStorage.getItem("token")?localStorage.getItem("token"):""}).then(function(t){console.log(t.data.data.mobile),localStorage.setItem("token",t.data.data.token);localStorage.getItem("token");localStorage.setItem("user_type",t.data.data.user_type),localStorage.setItem("remobile",t.data.data.mobile)}),!/^1[3|4|5|7|8][0-9]\d{4,8}$/.test(this.data.mobile))return Object(s.Toast)("请输入正确的手机号格式"),!1;if(!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9a-zA-Z]{6,12}$/.test(this.data.password))return Object(s.Toast)("必须包含数字字母和特殊字符"),!1;this.$router.push({path:"/index/recruit",query:{type:this.$route.query.user_type}})}else Object(s.Toast)("请勾选协议")},toAgreement:function(){this.$router.push({name:"agreement"}),console.log("阅读协议")},backLogin:function(){this.$router.push({name:"Login"})}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginwrapper"},[a("div",{staticClass:"progrict_name"},[t._m(0),t._v(" "),a("div",{staticClass:"license"},[a("div",{staticClass:"introduce lic_intruce"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.mobile,expression:"data.mobile"}],staticClass:"ipt_request",attrs:{placeholder:"请输入手机号",type:"text"},domProps:{value:t.data.mobile},on:{blur:function(e){t.confirmation()},input:function(e){e.target.composing||t.$set(t.data,"mobile",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"introduce"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.password,expression:"data.password"}],staticClass:"ipt_request",attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:t.data.password},on:{input:function(e){e.target.composing||t.$set(t.data,"password",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"introduce inp_read"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.data.code,expression:"data.code"}],staticClass:"inp_inp",attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:t.data.code},on:{input:function(e){e.target.composing||t.$set(t.data,"code",e.target.value)}}})]),t._v(" "),a("span",[a("button",{staticClass:"send_add",attrs:{disabled:t.disabled||t.time>0},on:{click:t.Sendverification}},[t._v(t._s(t.text))])])]),t._v(" "),a("div",{staticClass:"inste_read"},[a("span",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.consent,expression:"consent"}],staticClass:"Fruit",attrs:{name:"Fruit",type:"radio",value:"1"},domProps:{checked:t._q(t.consent,"1")},on:{change:function(e){t.consent="1"}}})]),t._v(" "),a("span",{staticClass:"reading"},[t._v("请阅读")]),t._v(" "),a("span",{staticClass:"protocol",on:{click:function(e){t.toAgreement()}}},[t._v("《筑才管家用户协议》")])]),t._v(" "),a("div",{staticClass:"bowling"},[a("button",{staticClass:"acquiesce",class:{sentaddsfix:"1"==t.consent},on:{click:function(e){t.toRegistration()}}},[t._v("注册")])]),t._v(" "),a("div",{staticClass:"bowling"},[a("span",{staticClass:"back_res",on:{click:function(e){t.backLogin()}}},[t._v("返回登录")])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"distance"},[e("div",{staticClass:"name_add"},[e("span",[this._v("筑才管家")])])])}]};var n=a("VU/8")(i,o,!1,function(t){a("Z83R")},"data-v-2ab89a7f",null);e.default=n.exports},Z83R:function(t,e){}});
//# sourceMappingURL=34.4ae0507e6a790a53b361.js.map